/*
 * allen - v0.1.5 - 2013-01-27
 * http://github.com/jsantell/allen
 * Copyright (c) 2013 Jordan Santell; Licensed MIT
 */

(function(){var e,t,n,r,i,s,o,u;o=this,n=this.document&&document.createElement("audio"),t={getAudioContext:function(){var e;return this.context!=null?this.context:(e=o.AudioContext||o.webkitAudioContext||o.mozAudioContext,e?this.context=new e:null)},setAudioContext:function(e){if(this.isAudioContext(e))return this.context=e;throw new Error("setAudioContext only accepts an AudioContext object")},isAudioContext:function(e){return i(e,"AudioContext")},isAudioSource:function(e){return s(e,"AudioSourceNode")},isAudioNode:function(e){return s(e,"AudioNode")},isAudioDestination:function(e){return i(e,"AudioDestinationNode")},isRegularAudioNode:function(e){return this.isAudioNode(e)&&!this.isAudioDestination(e)&&!this.isAudioSource(e)},isAudioParam:function(e){return s(e,"AudioParam")},getBuffer:function(e,t,n){var r;return n==null&&(n=!0),r=new XMLHttpRequest,r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=t,n&&r.send(),r},canPlayType:function(t){var n;return n=e[(t||"").toLowerCase()],t==="m4a"?r(n)||r("audio/aac;"):r(n)}},e={mp3:"audio/mpeg;",ogg:'audio/ogg; codecs="vorbis"',wav:'audio/wav; codecs="1"',m4a:"audio/x-m4a;"},r=function(e){return!!(n&&n.canPlayType&&n.canPlayType(e).replace(/no/,""))},i=function(e,t){var n;return typeof e!="object"||!e?!1:(e!=null?(n=e.constructor)!=null?n.name:void 0:void 0)===t||u(e,t)},s=function(e,t){var n,r;if(typeof e!="object"||!e)return!1;n=Object.getPrototypeOf(e);while(n!==Object.getPrototypeOf({})){if((n!=null?(r=n.constructor)!=null?r.name:void 0:void 0)===t||u(n,""+t+"Prototype"))return!0;n=Object.getPrototypeOf(n)}return!1},u=function(e,t){return!!toString.call(e).match(new RegExp("^\\[object "+t+"\\]$"))},typeof exports=="object"?module.exports=t:typeof define=="function"&&define.amd?define("allen",function(){return t}):o.allen=t}).call(this);